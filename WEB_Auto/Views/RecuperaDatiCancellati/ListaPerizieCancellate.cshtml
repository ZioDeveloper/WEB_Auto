    @model WEB_Auto.Models.HomeModel

@{
    ViewBag.Title = "ListaPerizieCancellate";
}
<head>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.21/b-1.6.2/b-colvis-1.6.2/b-flash-1.6.2/b-html5-1.6.2/b-print-1.6.2/cr-1.5.2/fc-3.3.1/fh-3.1.7/kt-2.5.2/r-2.2.5/rg-1.1.2/rr-1.2.7/sc-2.0.2/sp-1.1.1/sl-1.3.1/datatables.min.css" />

    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.21/b-1.6.2/b-colvis-1.6.2/b-flash-1.6.2/b-html5-1.6.2/b-print-1.6.2/cr-1.5.2/fc-3.3.1/fh-3.1.7/kt-2.5.2/r-2.2.5/rg-1.1.2/rr-1.2.7/sc-2.0.2/sp-1.1.1/sl-1.3.1/datatables.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.html5.min.js"</script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.print.min.js"</script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.4/js/dataTables.buttons.min.js"></script>
    @*<link rel="stylesheet" type="text/css" href="https://nightly.datatables.net/searchpanes/css/searchPanes.dataTables.min.css" />
        <script type="text/javascript" src="https://nightly.datatables.net/searchpanes/js/dataTables.searchPanes.min.js"</script>*@
</head>

<h4>Lista Perizie Cancellate</h4>

<div style="text-align:center;background-color:lightgray">


    @using (Html.BeginForm("ListaPerizieCancellate", "RecuperaDatiCancellati", new { CaricaDati = true }))
    {
        <label>Filtri ricerca viaggi</label><br />


        <label>15 gg: @Html.RadioButton("FiltroData", 15, false)</label>
        <label>&nbsp;&nbsp; &nbsp;&nbsp;30 gg:@Html.RadioButton("FiltroData", 30, true)</label>
        <label>&nbsp;&nbsp; &nbsp;&nbsp;60 gg gg:@Html.RadioButton("FiltroData", 60, false)</label>
        <label>&nbsp;&nbsp; &nbsp;&nbsp;90 gg:@Html.RadioButton("FiltroData", 90, false)</label>
        <label>&nbsp; &nbsp;POL @Html.TextBox("POL", null, new { style = "width:60px;text-transform:uppercase", @id = "POL", @maxlength = "3", @placeholder = "", @autofocus = "autofocus", @autocomplete = "off" })</label>
        <label>&nbsp; &nbsp;POD @Html.TextBox("POD", null, new { style = "width:60px;text-transform:uppercase", @id = "POD", @maxlength = "3", @placeholder = "", @autofocus = "autofocus", @autocomplete = "off" })</label>
        <label>&nbsp; &nbsp;Da data @Html.TextBox("DataINI", null, new { style = "width:150px;text-transform:uppercase", @id = "DataINI", @maxlength = "10", @placeholder = "", @autofocus = "autofocus", @autocomplete = "off", @readonly=true  })</label>
        <label>&nbsp; &nbsp;A Data @Html.TextBox("DataEND", null, new { style = "width:150px;text-transform:uppercase", @id = "DataEND", @maxlength = "10", @placeholder = "", @autofocus = "autofocus", @autocomplete = "off" , @readonly = true })</label>

        <button type="submit" id="btnConfirm" class="btn btn-success">Cerca</button>
    }

</div>

<br />

    <table id="ElencoPerizieCancellate" style="text-align:center;width:100%">

        <thead>
            <tr>
                @*<th>ID Perizia</th>*@
                <th>Viaggio</th>
                @*<th>Perito</th>*@
                <th>TP</th>
                <th>POL</th>
                <th>POD</th>
                <th>DataPerizia</th>
                <th>Telaio</th>
                @*<th>IDModello</th>*@
                <th>Modello</th>
                <th>OS</th>
                <th>NumFoto</th>
                <th>NumPDF</th>
                <th>Name</th>
                <th>Condition</th>
                <th>Reinserisci</th>
            </tr>

        </thead>



        <tbody>
            @foreach (var item in Model.BKP_AGR_Perizie_TEMP_MVC_ELIMINATE_vw)
            {
                <tr>

                    @*<td>
                        @Html.DisplayFor(modelItem => item.ID)
                    </td>*@
                    <td>
                        @Html.DisplayFor(modelItem => item.Viaggio)
                    </td>
                    @*<td>
                        @Html.DisplayFor(modelItem => item.Perito)
                    </td>*@
                    <td>
                        @Html.DisplayFor(modelItem => item.TP)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.POL)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.POD)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataPerizia)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Telaio)
                    </td>
                    @*<td>
                        @Html.DisplayFor(modelItem => item.IDModello)
                    </td>*@
                    <td>
                        @Html.DisplayFor(modelItem => item.Modello)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.MachineName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NumFoto)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NumPDF)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Condition)
                    </td>
                    <td>
                        @Html.ActionLink("Reinserisci perizia", "RipristinaPerizia", "RecuperaDatiCancellati", new { aIDPerizia = item.ID }, new { @class = "btn btn-success btn-xs " })

                    </td>
                </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                @*<th>ID Perizia</th>*@
                <th>Viaggio</th>
                @*<th>Perito</th>*@
                <th>TP</th>
                <th>POL</th>
                <th>POD</th>
                <th>DataPerizia</th>
                <th>Telaio</th>
                @*<th>IDModello</th>*@
                <th>Modello</th>
                <th>OS</th>
                <th>NumFoto</th>
                <th>NumPDF</th>
                <th>Name</th>
                <th>Condition</th>
                <th>Reinserisci</th>
            </tr>
        </tfoot>
    </table>

    <script>
        $(document).ready(function () {
            var table = $('#ElencoPerizieCancellate').DataTable({
                "autoWidth": true,
                stateSave: false,
                "lengthMenu": [[50, 100, -1], [50, 100, "Tutti"]],
                "pageLength": 50,
                "iDisplayLength": 0,


                // dom: 'Blfrtip',
                //buttons: [
                //    'copy', 'csv', 'excel',  'print'
                //],
                //"columnDefs": [
                //    { "width": "110px", "targets": 0 },
                //    { "width": "40px", "targets": 1 },
                //    { "width": "100px", "targets": 2 },
                //    { "width": "70px", "targets": 3 },
                //    { "width": "270px", "targets": 4 },
                //    { "width": "70px", "targets": 5 }
                //],
                //stateSave: true,
                language: {

                    processing: "Ricerca in corso...",
                    search: "Ricerca:",
                    //lengthMenu: "Visualizza _MENU_ elementi",

                    info: "Elenca da _START_ a _END_ di _TOTAL_ elementi",
                    infoEmpty: "Elenca da 0 a 0 di 0 elementi",
                    infoFiltered: "(filtrati da _MAX_ elementi totali)",
                    infoPostFix: "",
                    loadingRecords: "Caricamento...",
                    zeroRecords: "La ricerca non ha portato alcun risultato.",
                    emptyTable: "Nessun record presente in tabella",
                    paginate: {
                        first: "Inizio",
                        previous: "Precedente",
                        next: "Successivo",
                        last: "Fine"
                    },
                    aria: {
                        sortAscending: ": attiva per ordinare la colonna in ordine crescente",
                        sortDescending: ": attiva per ordinare la colonna in ordine decrescente"
                    },
                    searchPanes: {
                        title: {
                            _: 'Filtri selezionati : %d',
                            0: 'Nessun filtro selezionato',
                            1: 'Un solo filtro selezionato'
                        },
                        clearMessage: 'Azzera filtri !',
                        collapse: { 0: 'Ricerca avanzata', _: 'Scelte selezionate (%d)' }
                    },
                    buttons: [
                        'copy', 'csv', 'excel', 'print'
                    ]
                }
            });
        });

    </script>

